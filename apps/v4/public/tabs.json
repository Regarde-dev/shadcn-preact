{
  "name": "tabs",
  "type": "registry:ui",
  "description": "A set of layered sections of content—known as tab panels—that are displayed one at a time.",
  "registryDependencies": [
    "https://shadcn-preact.regarde.dev/cn.json",
    "https://shadcn-preact.regarde.dev/useControlledState.json",
    "https://shadcn-preact.regarde.dev/useArrowKeyNavigation.json",
    "https://shadcn-preact.regarde.dev/useId.json"
  ],
  "files": [
    {
      "path": "tabs.tsx",
      "type": "registry:ui",
      "content": "import { type ComponentProps, createContext } from \"preact\";\nimport { forwardRef, type PropsWithChildren, useContext, useRef } from \"preact/compat\";\nimport { cn } from \"./share/cn\";\nimport { useArrowKeyNavigation } from \"./share/useArrowKeyNavigation\";\nimport { useControlledState } from \"./share/useControlledState\";\nimport { useId } from \"./share/useId\";\n\nconst TabContext = createContext<{\n  value: string;\n  onValueChange: (value: string) => void;\n  orientation: \"vertical\" | \"horizontal\";\n  activationMode: \"automatic\" | \"manual\";\n  tabsId: string;\n} | null>(null);\n\nfunction useTabs() {\n  const c = useContext(TabContext);\n  if (!c) throw new Error(\"useTabs should be used within Tabs\");\n  return c;\n}\n\ntype TabsProps = PropsWithChildren<ComponentProps<\"div\">> & {\n  /** The value for the selected tab, if controlled */\n  value?: string;\n  /** The value of the tab to select by default, if uncontrolled */\n  defaultValue?: string;\n  /** A function called when a new tab is selected */\n  onValueChange?: (value: string) => void;\n  /**\n   * The orientation the tabs are layed out.\n   * Mainly so arrow navigation is done accordingly (left & right vs. up & down)\n   * @defaultValue horizontal\n   */\n  orientation?: \"vertical\" | \"horizontal\";\n  /**\n   * Whether a tab is activated automatically or manually.\n   * @defaultValue automatic\n   * */\n  activationMode?: \"automatic\" | \"manual\";\n};\n\nconst Tabs = forwardRef<HTMLDivElement, TabsProps>(\n  (\n    { value: controlledValue, defaultValue, onValueChange, activationMode, orientation, children, className, ...props },\n    forwardedRef\n  ) => {\n    const tabsId = useId(\"tabs\");\n    const [value, setValue] = useControlledState({\n      defaultValue: defaultValue ?? \"\",\n      controlledValue,\n      onChange: onValueChange,\n    });\n\n    return (\n      <TabContext.Provider\n        value={{\n          onValueChange: setValue,\n          value,\n          orientation: orientation || \"horizontal\",\n          activationMode: activationMode || \"automatic\",\n          tabsId,\n        }}\n      >\n        <div\n          ref={forwardedRef}\n          data-slot=\"tabs\"\n          className={cn(\"flex flex-col gap-2\", className)}\n          {...props}\n        >\n          {children}\n        </div>\n      </TabContext.Provider>\n    );\n  }\n);\nTabs.displayName = \"Tabs\";\n\nconst TabsList = forwardRef<HTMLDivElement, ComponentProps<\"div\">>(({ className, ...props }, forwardedRef) => {\n  const { orientation, activationMode } = useTabs();\n  const listRef = useRef<HTMLDivElement>(null);\n\n  // Handle arrow key navigation\n  useArrowKeyNavigation(listRef, {\n    enabled: true,\n    selector: '[role=\"tab\"]:not([data-disabled=\"true\"])',\n    orientation,\n    loop: true,\n    onSelect: activationMode === \"manual\" ? (_index, element) => element.click() : undefined,\n  });\n\n  return (\n    <div\n      ref={(node) => {\n        listRef.current = node;\n        if (typeof forwardedRef === \"function\") {\n          forwardedRef(node);\n        } else if (forwardedRef) {\n          (forwardedRef as any).current = node;\n        }\n      }}\n      role=\"tablist\"\n      aria-orientation={orientation}\n      data-slot=\"tabs-list\"\n      data-orientation={orientation}\n      className={cn(\n        \"inline-flex h-9 w-fit items-center justify-center rounded-lg bg-muted p-[3px] text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  );\n});\nTabsList.displayName = \"TabsList\";\n\ntype TabsTriggerProps = ComponentProps<\"button\"> & { value?: string };\n\nconst TabsTrigger = forwardRef<HTMLButtonElement, TabsTriggerProps>(({ className, ...props }, forwardedRef) => {\n  const { value, onValueChange, orientation, activationMode, tabsId } = useTabs();\n  const triggerId = useId(`${tabsId}-trigger`);\n  const panelId = useId(`${tabsId}-panel`);\n  const isSelected = value === props.value;\n\n  const handleClick = () => {\n    if (!props.disabled) {\n      onValueChange(props.value || \"\");\n    }\n  };\n\n  const handleKeyDown = (e: KeyboardEvent) => {\n    // For manual activation, Enter/Space activates the tab\n    if (activationMode === \"manual\" && (e.key === \"Enter\" || e.key === \" \")) {\n      e.preventDefault();\n      handleClick();\n    }\n  };\n\n  const handleFocus = () => {\n    // For automatic activation, focus activates the tab\n    if (activationMode === \"automatic\" && !props.disabled) {\n      onValueChange(props.value || \"\");\n    }\n  };\n\n  return (\n    <button\n      ref={forwardedRef}\n      id={triggerId}\n      role=\"tab\"\n      aria-selected={isSelected}\n      aria-controls={panelId}\n      tabIndex={isSelected ? 0 : -1}\n      data-state={isSelected ? \"active\" : \"inactive\"}\n      data-orientation={orientation}\n      data-disabled={props.disabled ? \"true\" : undefined}\n      data-slot=\"tabs-trigger\"\n      onClick={handleClick}\n      onKeyDown={handleKeyDown as any}\n      onFocus={handleFocus}\n      type=\"button\"\n      className={cn(\n        \"inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 whitespace-nowrap rounded-md border border-transparent px-2 py-1 font-medium text-foreground text-sm transition-[color,box-shadow] focus-visible:border-ring focus-visible:outline-1 focus-visible:outline-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:shadow-sm dark:text-muted-foreground dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 dark:data-[state=active]:text-foreground [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n        className\n      )}\n      {...props}\n    />\n  );\n});\nTabsTrigger.displayName = \"TabsTrigger\";\n\ntype TabsContentProps = ComponentProps<\"div\"> & { value?: string };\n\nconst TabsContent = forwardRef<HTMLDivElement, TabsContentProps>(({ className, ...props }, forwardedRef) => {\n  const { value, orientation, tabsId } = useTabs();\n  const panelId = useId(`${tabsId}-panel`);\n  const triggerId = useId(`${tabsId}-trigger`);\n  const isActive = value === props.value;\n\n  if (!isActive) return null;\n\n  return (\n    <div\n      ref={forwardedRef}\n      id={panelId}\n      role=\"tabpanel\"\n      aria-labelledby={triggerId}\n      tabIndex={0}\n      data-orientation={orientation}\n      data-state=\"active\"\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  );\n});\nTabsContent.displayName = \"TabsContent\";\n\nexport { Tabs, TabsContent, TabsList, TabsTrigger, useTabs };\n"
    }
  ],
  "category": "ui"
}

