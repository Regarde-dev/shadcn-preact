{
  "name": "switch",
  "type": "registry:ui",
  "description": "A control that allows the user to toggle between checked and not checked.",
  "registryDependencies": [
    "https://shadcn-preact.regarde.dev/cn.json",
    "https://shadcn-preact.regarde.dev/useControlledState.json"
  ],
  "files": [
    {
      "path": "switch.tsx",
      "type": "registry:ui",
      "content": "import type { ButtonHTMLAttributes } from \"preact\";\nimport { forwardRef } from \"preact/compat\";\nimport { cn } from \"./share/cn\";\nimport { useControlledState } from \"./share/useControlledState\";\n\nexport type SwitchProps = ButtonHTMLAttributes<HTMLButtonElement> & {\n  /**\n   * The controlled checked state of the switch.\n   */\n  checked?: boolean;\n\n  /**\n   * The default checked state when uncontrolled.\n   */\n  defaultChecked?: boolean;\n\n  /**\n   * Event handler called when the checked state changes.\n   */\n  onCheckedChange?: (checked: boolean) => void;\n\n  /**\n   * When true, prevents the user from interacting with the switch.\n   */\n  disabled?: boolean;\n\n  /**\n   * The name of the switch. Submitted with its owning form as part of a name/value pair.\n   */\n  name?: string;\n\n  /**\n   * The value given as data when submitted with a name.\n   */\n  value?: string;\n\n  /**\n   * When true, indicates that the user must check the switch before the owning form can be submitted.\n   */\n  required?: boolean;\n};\n\nexport const Switch = forwardRef<HTMLButtonElement, SwitchProps>(\n  (\n    {\n      className,\n      class: classNative,\n      checked: controlledChecked,\n      defaultChecked = false,\n      onCheckedChange,\n      disabled,\n      name,\n      value = \"on\",\n      required,\n      onClick,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    const [checked, setChecked] = useControlledState({\n      defaultValue: defaultChecked,\n      controlledValue: controlledChecked,\n      onChange: onCheckedChange,\n    });\n\n    const handleClick: typeof onClick = (e) => {\n      if (disabled) return;\n      setChecked(!checked);\n      onClick?.(e);\n    };\n\n    return (\n      <>\n        <button\n          ref={forwardedRef}\n          type=\"button\"\n          role=\"switch\"\n          aria-checked={checked}\n          aria-required={required}\n          data-slot=\"switch\"\n          data-state={checked ? \"checked\" : \"unchecked\"}\n          data-disabled={disabled ? \"true\" : undefined}\n          disabled={disabled}\n          onClick={handleClick}\n          className={cn(\n            \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors\",\n            \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\n            \"disabled:cursor-not-allowed disabled:opacity-50\",\n            \"data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n            className,\n            classNative\n          )}\n          {...props}\n        >\n          <span\n            data-slot=\"switch-thumb\"\n            data-state={checked ? \"checked\" : \"unchecked\"}\n            className={cn(\n              \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform\",\n              \"data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n            )}\n          />\n        </button>\n        {/* Hidden input for form integration */}\n        {name && (\n          <input\n            type=\"checkbox\"\n            name={name}\n            value={value}\n            checked={checked}\n            required={required}\n            disabled={disabled}\n            onChange={() => {}} // Controlled by button\n            tabIndex={-1}\n            aria-hidden=\"true\"\n            className=\"pointer-events-none fixed -top-[99999px] h-1 w-1 cursor-none\"\n          />\n        )}\n      </>\n    );\n  }\n);\nSwitch.displayName = \"Switch\";\n"
    }
  ],
  "category": "ui"
}

